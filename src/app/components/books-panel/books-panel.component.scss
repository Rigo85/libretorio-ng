/* Base (desktop + general) */
.album {
	//overflow-y: auto;
	position: relative;
	z-index: 1; /* Debajo del footer fijo */
	overflow-anchor: none;
	//overscroll-behavior: contain;
	//scrollbar-gutter: stable;
}

/* Móvil: fallback con 100vh */
@media (max-width: 768px) {
	.card img {
		width: 255px;
		height: auto;
		display: block;
		max-width: 100%;
	}

	.album {
		height: calc(100vh - 71px - 65px - 50px) !important;
		padding-bottom: calc(70px + env(safe-area-inset-bottom));
		-webkit-overflow-scrolling: touch;
	}
}

/* Móvil: preferir 100dvh si está soportado (sin mezclar dentro de .album) */
@supports (height: 100dvh) {
	@media (max-width: 768px) {
		.album {
			height: calc(100dvh - 71px - 65px - 50px) !important;
		}
	}
}

/* Área de scroll dedicada para #albumContainer */
.album {
	/* Altura base: ajusta el 180px si tu header/footer ocupan distinto */
	height: var(--album-height, calc(100vh - 180px));
	overflow-y: auto;
	overscroll-behavior: contain; /* evita "arrastre" al body */
	scrollbar-gutter: stable both-edges; /* evita saltos al aparecer la barra */
}

/* Buffer arriba/abajo para lotes pequeños (< pageSize): evita tocar el borde */
.album::before,
.album::after {
	content: "";
	display: block;
	height: var(--scroll-buffer, 0px); /* se ajusta desde TS */
}

/* Evita reflow cuando cargan imágenes y que "muerda" el scroll al final */
.img-container {
	width: 180px;
	height: 225px;
	display: flex;
	align-items: center;
	justify-content: center;
	overflow: hidden;
}

/* Keep body text left-aligned and ensure the clickable card is at least cover width */
.clickable-area {
	text-align: left;
	min-width: 180px; /* match cover width */
}

/* Center only the cover image / placeholder */
.clickable-area .img-container,
.clickable-area .card-img-top,
.clickable-area svg.bd-placeholder-img {
	display: block;
	margin-left: auto;
	margin-right: auto;
}

/* Control the image block size and add a small visual gutter */
.clickable-area .img-container {
	width: 180px; /* same as image max-width */
	padding: 6px; /* small inner gutter (previous look) */
	margin-top: 6px; /* space from card edges */
	margin-bottom: 8px; /* space before card-body */
	//box-sizing: content-box; /* keep the image max size intact */
	box-sizing: border-box;
}

/* Keep the cover size stable (safe even if inline styles exist) */
.clickable-area .card-img-top {
	max-width: 180px;
	max-height: 225px;
}

/* En XL (1200–1399px), baja a 4 columnas para que cada card ≥ 180px */
@media (min-width: 1200px) and (max-width: 1399.98px) {
	.row.row-cols-xl-5 > [class*='col'] {
		flex: 0 0 25%;
		max-width: 25%;
	}
}
